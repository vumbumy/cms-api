openapi: 3.0.0
info:
  title: Group
  version: "1.0.0"
tags:
  - name: Group
    description: 사용자 그룹 관리
  - name: Project
    description: 프로젝트 관리
paths:
  /groups:
    post:
      tags:
        - Group
      responses:
        '200':
          description: OK
    put:
      tags:
        - Group
      responses:
        '200':
          description: OK
    get:
      tags:
        - Group
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupList'
    delete:
      tags:
        - Group
      responses:
        '200':
          description: OK
  /groups/{groupNo}:
    get:
      tags:
        - Group
      parameters:
        - $ref: '#/components/parameters/groupNo'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
  /groups/{groupNo}/permissions:
    put:
      tags:
        - Group
      responses:
        '200':
          description: OK
  /projects:
    post:
      tags:
        - Project
      responses:
        '200':
          description: OK
    put:
      tags:
        - Project
      responses:
        '200':
          description: OK
    get:
      tags:
        - Project
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectList'
    delete:
      tags:
        - Project
      responses:
        '200':
          description: OK
  /projects/{projectNo}:
    get:
      tags:
        - Project
      parameters:
        - $ref: '#/components/parameters/projectNo'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
  /projects/{projectNo}/permissions:
    put:
      tags:
        - Project
      parameters:
        - $ref: '#/components/parameters/projectNo'  
      responses:
        '200':
          description: OK  
      
components:
  schemas:
    User:
      type: object
      properties:
        email:
          type: string
          example: "test@example.com"
        mobile:
          type: string
          example: "01012345678"
    Permission:
      type: object
      properties:
        userNo:
          type: integer
          example: 11
        groupNo:
          type: integer
          example: 202
        accessRight:
          type: string
          example: "WRITE"
      discriminator:
        propertyName: pet_type
        
    Group:
      type: object
      properties:
        groupName:
          type: string
          example: "Group A"
        userList:
          type: array
          items:
            $ref: '#/components/schemas/User'
    GroupList:
      type: array
      items:
        $ref: '#/components/schemas/Group'
    Project:
      type: object
      properties:
        groupName:
          type: string
          example: "Project X"
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/Permission'
    ProjectList:
      type: array
      items:
        $ref: '#/components/schemas/Project'
  parameters:
    hashCode:
      name: code
      description: 8 characters hash
      in: query
      schema:
        type: string
      example: 3106cdf2
    userNo:
      required: true
      name: userNo
      in: path
      schema:
        type: integer
        example: 202
    groupNo:
      required: true
      name: groupNo
      in: path
      schema:
        type: integer
        example: 202
    projectNo:
      required: true
      name: projectNo
      in: path
      schema:
        type: integer
        example: 3003